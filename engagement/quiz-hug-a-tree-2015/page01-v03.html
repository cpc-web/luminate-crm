<!-- Pick Your Picnic Final Version Page01 -->
<!-- secure image edits -->
<!DOCTYPE html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <meta name="Robots" content="index, follow" />
  <meta property="og:url" content="https://secure2.convio.net/cpc/site/SPageNavigator/pick_your_favorite_picnic_page01.html?s_subsrc=2015_picnic_poll&utm_medium=social&s_src=facebook&utm_source=facebook&utm_campaign=2015_picnic_poll" />
  <meta property="og:title" content="Pick your perfect picnic--and win" />
  <meta property="og:description" content="Looking for your perfect picnic spot in Central Park? Take our quiz for a recommendation and be entered to win two sweet passes to Evening in the Garden!!!" />
  <meta property="og:image" content="https://secure2.convio.net/cpc/images/content/pagebuilder/central-park-picnic-og.jpg" />
  <!-- Bootstrap core CSS + Template Stylesheet -->

  <link href="https://cloud.webtype.com/css/2ebe6d20-6380-420e-a3c8-7a19f4a641e2.css" rel="stylesheet" type="text/css" />

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link href="https://secure2.convio.net/cpc/redesign/css/bootstrap-303-min.css" rel="stylesheet" />
  <link href="poll-template-css.css" rel="stylesheet" />
  <link rel="shortcut icon" href="http://www.centralparknyc.org/favicon.ico">

  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Place in-page JS at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
  <script type='text/javascript' src="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
  <script type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.7.1/modernizr.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-17339074-1', 'auto');
    ga('send', 'pageview');
  </script>
</head>
<style>
body {
background-color: #878C79;  
background: #878C79;
}
</style>
<body ng-app="PicnicApp" ng-controller="picnicPollController">
  <div class="row myWhiteBackground">
    <div class="col-xs-12 ">
      <div id="logo"></div>
    </div>
  </div>  
  <div style="display:none;">
    <img src="https://secure2.convio.net/cpc/images/content/pagebuilder/central-park-picnic-og.jpg" />
  </div>
  <div class="row maincentered">
    <div class="myPadding"></div>
  </div>
  <div class="container">
    <div class="row myRow" ng-hide="isMobile && pick">
      <div class="myTopContent" >
        <div class="col-xs-12 myContent">
          <p class="secondaryUpperText">
            <strong>
              Which Central Park tree would you hug?
            </strong>
        </p>
        </div>
        <div class-"col-xs-12">
          <p>
            There's something magical about the trees in Central Park.
          </p>  
          <p>
            Chances are you've spent some time under one of them, looking up into the leaves, basking in the dappled light. It's  dreamy. A little romantic, even. 
          </p>
          <p>
            <strong>
              Pick your favorite tree and we'll tell you a little something about yourself AND enter you to win our Fall Prize Package! The package includes dinner at the new award-winning Ocean Prime restaurant and an invitation to Leaf-Peeping in the Park: A Tour of Central Park's Fall Foliage led by Conservancy horticulture experts and followed by hors d'oeuvres and wine.
            </strong>
          </p>
        </div>
      </div>
    </div>  
    <div class="row myRow pickPicnic" ng-show="isDesktop || isTablet">
      <p >
        <span>Pick your favorite tree and enter to win:</span>
      </p> 
    </div>
    <div class="row pickPicnic" ng-show="isMobile && !pick">  
      <p >
        <div>Pick your favorite tree and enter to win:</div>
       </p> 
    </div>
    <div class="row myrow">
      <div class="col-xs-12 myPollContent">
        <div class="col-sm-12 col-md-8">
          <div ng-repeat="p in picks">
            <div class="col-sm-12 myNumber myNumberNotPicked clickable" ng-click="vote(p.pick)"
                ng-show="!isMobile || !pick || pick == p.pick">
              <img ng-src="{{ p.image }}" class="img-responsive">
              <button class="btn">
                <i class="fa fa-heart"></i></i>&nbsp;&nbsp;{{ p.title }}&nbsp;&nbsp;<i class="fa fa-heart"></i>
              </button>
            </div>  
          </div>
        </div>  
        <div class="col-sm-12 col-md-4 mySubmission" ng-show="!isMobile || pick">
          <div class="myInfo">
            <p>Enter your info to win:</p>
          </div>
          <!-- https://secure2.convio.net/cpc/site/SSurvey -->
          <form name="form" action="https://secure2.convio.net/cpc/site/SSurvey" method="post">

            <input name="cons_info_component" type="hidden" value="t">
            <input name="s_rememberMe" type="hidden" value="on">
            <input name="remember_me_opt_in_requested" type="hidden" value="true">
            <input name="1872_5440_2_6605" type="hidden" value="NOREPLY">
            <input name="1872_5440_3_6602" type="hidden" value="">
            <input name="1872_5440_4_6603" type="hidden" value="">
            <input name="s_src" type="hidden" value="" />
            <input name="s_subsrc" type="hidden" value="" /> 
            <input name="denySubmit" type="hidden">

            <input id="SURVEY_ID" name="SURVEY_ID" type="hidden" value="5946" />
            <input id="ERRORURL" name="ERRORURL" type="hidden"
                value="page02.html" />
            <input id="NEXTURL" name="NEXTURL" type="hidden" value="" />

            <input class="text" type="text" name="cons_first_name" type="text" maxlength="50" placeholder="* First Name"
                ng-model="user.firstName" required="" />
            <div class="error" ng-show="submitted || form.cons_first_name.$touched">
              <div ng-show="form.cons_first_name.$error.required">Tell us your first name.</div>
            </div>

            <input class="text" type="text" name="cons_last_name" type="text" maxlength="50" placeholder="* Last Name"
                ng-model="user.lastName" required="" />
            <div class="error" ng-show="submitted || form.cons_last_name.$touched">
              <div ng-show="form.cons_last_name.$error.required">
                Tell us your last name.
              </div>
            </div>

            <input class="text" type="email" name="cons_email" maxlength="100" placeholder="* Email" 
                ng-model="user.email" required="" />
            <div class="error" ng-show="submitted || form.cons_email.$touched">
              <span ng-show="form.cons_email.$error.required">Tell us your email.</span>
              <span ng-show="form.cons_email.$error.email">This is not a valid email.</span>
            </div>

            <input class="text" type="text" name="cons_zip_code" maxlength="11" placeholder="* ZIP code"
                ng-model="user.zipcode" required=""/>
            <div class="error" ng-show="submitted || form.cons_zip_code.$touched">
              <span ng-show="form.cons_zip_code.$error.required">Tell us your zipcode.</span>
            </div>

            <input name="ACTION_SUBMIT_SURVEY_RESPONSE" type="hidden" value="SUBMIT" />
            <input id="btnSubmit" type="submit" value="SUBMIT" ng-click="update(form)" />
            <div class="error" ng-show="submitted && !pick">
              Click on one of the boxes to cast your vote!
            </div>
            <div class="small-message">
              <p>
                By submitting your vote, you will join our online community and receive periodic updates from Central Park Conservancy. You can unsubscribe at any time.
              </p>
            </div>    
          </form>
        </div>  
      </div> <!-- END XS-12 -->
    </div> <!-- end ROW -->
  </div>    
</body>
<script>

//Sets screen size type basd on the screen width
//The widths should match bootstrap responsive classes


var app = angular.module('PicnicApp', []);

app.controller('picnicPollController', function($scope, $timeout) {
  var resize = function() {
    var width = $(window).width();
    $scope.isMobile = width <= 767;
    $scope.isTablet = width > 767 && width <= 991;
    $scope.isDesktop = width > 991;
    $scope.$apply();
  }

  $timeout(resize, 1);
  $(window).resize(resize);

  $scope.picks = [{
    pick: 'american-elm',
    title: 'American Elm',
    image: 'images/compressed/american-elm-v01.jpg'
  }, {
    pick: 'tulip-tree',
    title: 'Tulip Tree',
    image: 'images/compressed/tulip-tree.jpg'
  }, {
    pick: 'yoshino-cherry',
    title: 'Yoshino Cherry',
    image: 'images/compressed/yoshino-v07.jpg'
  }, {
    pick: 'pin-oak',
    title: 'Pin Oak',
    image: 'images/compressed/pin-oak.JPG'
  }];

  $scope.vote = function(pick) {
    $timeout(function() {
      $scope.pick = pick;
    }, 200);
  };

  $scope.update = function(form) {
    $scope.submitted = true;
    if (form.$valid && $scope.pick) {
      var nextUrl = 'https://secure2.convio.net/cpc/site/SPageNavigator/pick_your_tree_page02.html';
      $('#NEXTURL').val(nextUrl + '?x=' + $scope.pick);
        // ga('send', 'event', 'Quiz: Pick Your Picnic', 'Submit', 'Successful Submission', $scope.pick);
      document.getElementsByName(form.$name)[0].submit();
    }
  };
});

$(function() {  
  // Prevent form submit due to action attribute being present.
  $("form[name='form']").on("submit", function (e) {
    e.preventDefault();
  });

  // Interaction on selected box.
  $( ".myNumber" ).on( "click", function() {
    // $(".myNumber").find("button").css("background-color", "#ffa500");
    $(".myNumber").find(".fa-heart").css("color", "white");
    // $(".myNumber").css("border", "solid 4px #ffa500");
    $(".myNumber").find(".img-responsive").css("opacity","1");
    // $(this).find("button").css("background-color", "#e20034");
    $(this).find(".fa-heart").css("color", "#e20034");
    // $(this).css("border", "solid 4px #e20034");
    $(this).find(".img-responsive").css("opacity",".4");
  });
});

</script>
</html>